<!DOCTYPE html>
<html>
 <head>
   <meta charset="UTF-8">
 <title>Oauth2: Redirecting Authentication</title>
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
 <script>
 // Script to send a GET request to '/oauth2/protected'
 $(document).ready(function(){
     $('#getButton').click(function(){
         $.ajax({
           url: '/oauth2/protected',
           type: 'GET',
           success: function(data,status){
               alert("Server response: " + JSON.stringify(data));
           }
         });
     });
 });
 $(document).ready(function(){
     $('#logoutButton').click(function(){
         $.ajax({
           url: '/oauth2/logout',
           type: 'GET',
           success: function(data,status){
               alert("Server response: " + JSON.stringify(data));
           }
         });
     });
 });
 </script>
 </head>
 <body>
     <p>
         For these routes to work, you must have a Facebook or Google Oauth2 application running.<br>
         <a href="https://developers.facebook.com/apps/" target="_blank">Set up a Facebook Oauth2 app </a><br>
         <a href="https://support.google.com/cloud/answer/6158849?hl=en" target="_blank">Set up a Google Oauth2 app</a><br>
         You must then replace the credentials in "Oauth2Routes.swift" with the corresponding app credentials.
     </p>
     <p>
         This page authenticates the user by redirecting to a trusted third party using the oauth2 framwork.<br>
         An in depth description of oauth2 is available <a href="https://www.digitalocean.com/community/tutorials/an-introduction-to-oauth-2" target="_blank">here</a><br>
         Once the user is logged in the server can identify them and they can access the "protected" route.
      </p>
     <ul><li>
         <p>Log in with Facebook by making a get request to &quot;/oauth2/facebook&quot;.</p>
         <button class="button" onclick="window.open('/oauth2/facebook')">Login with Facebook</button></li>
     </li></ul>
     <ul><li>
         <p>Log in with Google by making a get request to &quot;/oauth2/google&quot;.</p>
         <button class="button" onclick="window.open('/oauth2/google')">Login with Google</button></li>
     </li></ul>
     <ul><li>
         <p>Attempt to view the protected route by sending an HTTP GET request to &quot;/oauth2/protected&quot;</p>
         <input type="button" value="GET to &quot;/oauth2/protected&quot;" id="getButton" >
         </button>
     </li></ul>
     <ul><li>
         <p>Log out by sending an HTTP GET request to &quot;/oauth2/logout&quot;</p>
         <input type="button" value="GET to &quot;/oauth2/logout&quot;" id="logoutButton" >
         </button>
     </li></ul>
 </body>
</html>
